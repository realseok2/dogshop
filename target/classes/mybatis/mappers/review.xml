<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="review">
	<insert id="writeview" parameterType="com.javaex.vo.ReviewVo" >
		<![CDATA[
			INSERT INTO review VALUES (
				seq_reviewno_no.NEXTVAL,
				#{shopno},
				#{userno},
				#{regno},
				#{spoint},
				#{sdesc}
			)
		]]>
	</insert>

	<select id="test" parameterType="com.javaex.vo.ReservationVo"
	resultType="com.javaex.vo.ReservationVo">
		select  shopno,
			    regno
		from    reservation
		where   userno = #{userno}
		and		regno	= #{regno}
	</select>
	
	<select id="getspoint" parameterType="int"
	resultType="Integer">
			select  avg(spoint)
			from    review
			where   shopno=#{shopno,jdbcType = VARCHAR}
	</select>

</mapper>